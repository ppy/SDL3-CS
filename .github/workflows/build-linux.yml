name: cross compile linux

on:
  push:

jobs:
  buildx:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        container: ["amd64/ubuntu", "arm64v8/ubuntu", "i386/ubuntu", "arm32v7/ubuntu"]
    steps:
      -
        name: Checkout
        uses: actions/checkout@v4
      -
        # Add support for more platforms with QEMU (optional)
        # https://github.com/docker/setup-qemu-action
        name: Set up QEMU
        uses: docker/setup-qemu-action@v3
      -
        name: Run build process with Docker
        uses: addnab/docker-run-action@v3
        with:
          image: ${{ matrix.container }}
          options: -v ${{ github.workspace }}:/workspace
          run: |
            echo "Hello World!"
            uname -a
